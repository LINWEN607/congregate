.jwt_v2:
  variables:
    VAULT_AUTH_PATH: jwt
    VAULT_AUTH_ROLE: congregate-read
  id_tokens:
    VAULT_ID_TOKEN:
      aud: $VAULT_SERVER_URL

.aws-creds:
  extends: .jwt_v2
  secrets:
    AWS_ACCESS_KEY_ID:
      vault: ci/AWS_ACCESS_KEY_ID@congregate
      file: false
    AWS_SECRET_ACCESS_KEY:
      vault: ci/AWS_SECRET_ACCESS_KEY@congregate
      file: false
    SECURITY_GROUP:
      vault: ci/SECURITY_GROUP@congregate
      file: false
    KEY_NAME:
      vault: ci/KEY_NAME@congregate
      file: false

.azure-creds:
  extends: .jwt_v2
  secrets:
    AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_APP_ID:
      vault: ci/AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_APP_ID@congregate
      file: false
    AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_PASSWORD:
      vault: ci/AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_PASSWORD@congregate
      file: false
    AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_TENANT_ID:
      vault: ci/AZURE_GHE_VM_CREATOR_SERVICE_PRINCIPAL_TENANT_ID@congregate
      file: false
    AZURE_SOURCE_VM_HOST_NAME:
      vault: ci/AZURE_SOURCE_VM_HOST_NAME@congregate
      file: false
    AZURE_SUBSCRIPTION_SCOPE_ID:
      vault: ci/AZURE_SUBSCRIPTION_SCOPE_ID@congregate
      file: false
    AZURE_VM_RESTORE_TARGET_RESOURCE_GROUP:
      vault: ci/AZURE_VM_RESTORE_TARGET_RESOURCE_GROUP@congregate
      file: false
    AZURE_VM_RESTORE_TARGET_STORAGE_ACCOUNT_SHORT:
      vault: ci/AZURE_VM_RESTORE_TARGET_STORAGE_ACCOUNT_SHORT@congregate
      file: false
    AZURE_VM_SOURCE_RECOVERY_VAULT:
      vault: ci/AZURE_VM_SOURCE_RECOVERY_VAULT@congregate
      file: false
    AZURE_VM_SOURCE_RESOURCE_GROUP:
      vault: ci/AZURE_VM_SOURCE_RESOURCE_GROUP@congregate
      file: false

.ghe-creds:
  extends: .jwt_v2
  secrets:
    GHE_SOURCE_PASSWORD:
      vault: ci/GHE_SOURCE_PASSWORD@congregate
      file: false
    GHE_SOURCE_TOKEN:
      vault: ci/GHE_SOURCE_TOKEN@congregate
      file: false
    GHE_SOURCE_URL:
      vault: ci/GHE_SOURCE_URL@congregate
      file: false
    GHE_SOURCE_USERNAME:
      vault: ci/GHE_SOURCE_USERNAME@congregate
      file: false

.bbs-creds:
  extends: .jwt_v2
  secrets:
    BITBUCKET_LICENSE:
      vault: ci/BITBUCKET_LICENSE@congregate
      file: false
    BITBUCKET_PASSWORD:
      vault: ci/BITBUCKET_PASSWORD@congregate
      file: false
    BITBUCKET_USERNAME:
      vault: ci/BITBUCKET_USERNAME@congregate
      file: false

.dotcom-creds:
  extends: .jwt_v2
  secrets:
    MIGRATION_TEMPLATE_TOKEN:
      vault: ci/MIGRATION_TEMPLATE_TOKEN@congregate
      file: false
    PS_MIGRATION_TOKEN:
      vault: ci/PS_MIGRATION_TOKEN@congregate
      file: false

.release-creds:
  extends: .jwt_v2
  secrets:
    PUSH_URL:
      vault: ci/PUSH_URL@congregate
      file: false
    UPVERS_TOKEN:
      vault: ci/UPVERS_TOKEN@congregate
      file: false

.gitlab-api-creds:
  extends: .jwt_v2
  secrets:
    ACCESS_TOKEN:
      vault: ci/ACCESS_TOKEN@congregate
      file: false

.gitlab-license:
  extends: .jwt_v2
  secrets:
    GITLAB_LICENSE:
      vault: ci/GITLAB_LICENSE@congregate
